<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emillin & Filipe • Chá de Panela Tricolor</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@700&family=Roboto:wght@300;500&display=swap');

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      height: 100vh;
      background: #FFF8E8 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400" opacity="0.07"><path fill="%23C19A6B" d="M200,80 Q300,150 280,260 Q200,360 120,260 Q100,150 200,80Z"/></svg>') repeat;
      font-family: 'Roboto', sans-serif;
      color: #5D4037;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      overflow: hidden; position: relative;
    }

    header h1 { font-family: 'Dancing Script', cursive; font-size: 7rem; color: #8B4513; margin:0; }
    header h2 { font-family: 'Playfair Display', serif; font-size: 3.5rem; color: #A0522D; margin-top:-15px; }

    #circulo {
      width: 92vmin; height: 92vmin; max-width: 860px; max-height: 860px;
      background: white; border: 18px solid #D2691E; border-radius: 50%;
      position: relative; overflow: hidden;
      box-shadow: 0 40px 100px rgba(139,69,19,0.45);
      display: flex; align-items: center; justify-content: center;
    }

    #resultado {
      font-family: 'Playfair Display', serif;
      font-size: 4.6rem; font-weight: bold; color: center;
      color: #8B4513; text-align: center; padding: 60px; line-height: 1.3;
      z-index: 10; opacity: 0; transition: opacity 0.8s;
    }

    #roleta {
      position: absolute; top: 0; width: 100%; height: 100%;
      display: flex; flex-direction: column; justify-content: flex-start; align-items: center;
      font-size: 4.3rem; font-weight: bold; color: #8B4513; line-height: 1.6;
      padding-top: 120px; animation: subir 0.07s linear infinite; opacity: 1;
    }

    @keyframes subir {
      0%   { transform: translateY(120px); }
      100% { transform: translateY(-2400px); }
    }

    button {
      margin-top: 50px; padding: 24px 100px; font-size: 2.6rem;
      background: #D2691E; color: white; border: none; border-radius: 70px;
      cursor: pointer; box-shadow: 0 15px 40px rgba(210,105,30,0.6);
      transition: all 0.3s;
    }
    button:hover { background:#A0522D; transform:translateY(-6px); }
    button:disabled { background:#8B4513; }

    .contador { margin-top:30px; font-size:2.1rem; color:#8B4513; font-weight:bold; }
    .ultimos { position:absolute; bottom:50px; left:50%; transform:translateX(-50%);
      display:flex; gap:18px; flex-wrap:wrap; justify-content:center; max-width:90%; }
    .item { background:#FFF3E0; border:4px solid #DEB887; border-radius:18px;
      padding:14px 24px; min-width:160px; text-align:center; font-size:1.2rem;
      box-shadow:0 6px 16px rgba(0,0,0,0.15); }
  </style>
</head>
<body>

  <header>
    <h1>Chá de Panela</h1>
    <h2>Emillin & Filipe</h2>
  </header>

  <div id="circulo">
    <div id="resultado">Clique para começar</div>
    <div id="roleta"></div>
  </div>

  <button id="sortear">SORTEAR PRÓXIMO PRESENTE</button>
  <div class="contador">Sorteados: <span id="num">0</span> / 43</div>
  <div class="ultimos" id="lista"></div>

<script>
// === HINO DO SÃO PAULO OFICIAL COM TIMBRE DE TROMPETE ===
function tocarHinoSPFC() {
  const ctx = new (window.AudioContext || window.webkitAudioContext)();

  // Frequências exatas do vídeo (79 BPM → 759 ms por semínima)
  const notas = [
    // "Sãão Pau-lo… Sãão Pau-lo…"
    523.25, 554.37, 523.25, 466.16,   // Dó  Lá# Lá  Sol
    523.25, 392.00, 523.25, 392.00,   // Dó  Sol Dó  Sol
    587.33, 587.33, 659.25, 587.33, 523.25, 523.25, // Ré Ré Mi Ré Dó Dó
    466.16, 554.37, 523.25, 392.00, 523.25                 // Lá Lá# Lá Sol Dó
  ];

  // Durações em segundos (respeitando o swing do vídeo)
  const duracoes = [
    0.66, 0.66, 0.66, 1.0,
    0.66, 0.66, 0.66, 1.0,
    0.50, 0.50, 0.50, 0.50, 0.50, 1.0,
    0.66, 0.66, 0.66, 0.66, 1.2
  ];

  let t = ctx.currentTime;

  notas.forEach((freq, i) => {
    // Trompete = onda sawtooth + filtro + ataque suave
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();
    const filter = ctx.createBiquadFilter();

    osc.type = "sawtooth";
    osc.frequency.value = freq;

    filter.type = "lowpass";
    filter.frequency.setValueAtTime(2500, t);
    filter.Q.value = 10;

    gain.gain.setValueAtTime(0, t);
    gain.gain.linearRampToValueAtTime(0.35, t + 0.05);     // ataque rápido
    gain.gain.exponentialRampToValueAtTime(0.01, t + duracoes[i]);

    osc.connect(filter).connect(gain).connect(ctx.destination);

    osc.start(t);
    osc.stop(t + duracoes[i]);

    t += duracoes[i];
  });
}

// === RESTO DO BINGO (igual antes, só troquei o som) ===
const presentes = ["Abridor de garrafas e latas","Açucareiro","Afiador de facas","Assadeiras antiaderentes","Bacia Plástica","Batedor de ovos","Boleira","Bowls","Cabides","Copos de medidas","Copos para água","Cortador de pizza","Cuscuzeira","Descanso de panelas","Escorredor de macarrão","Escorredor de pratos","Espátula","Espremedor de frutas","Espremedor de limão","Faqueiro","Formas de pudim","Fruteira","Galheteiro","Garfinhos para aperitivos","Garrafa de café","Jarra de Suco","Jogo americano","Jogos de xícaras e pires","Kit de colheres","Liquidificador","Leiteira","Panos de prato","Pestiqueira","Pirex","Porta bucha e detergente","Porta copo","Porta guardanapo","Porta hermético","Potes de plásticos","Pratos fundos","Rodo de pia","Rolo de abrir massa","Saladeira","Tábua plástica"];

let deck = [...presentes].sort(() => Math.random() - 0.5);
let sorteados = [];

const roleta = document.getElementById("roleta");
const resultado = document.getElementById("resultado");
const btn = document.getElementById("sortear");
const num = document.getElementById("num");
const lista = document.getElementById("lista");

btn.onclick = () => {
  if (deck.length === 0) {
    resultado.innerHTML = "TODOS OS<br>PRESENTES<br>JÁ FORAM<br>SORTEADOS!<br>PARABÉNS AO CASAL!";
    resultado.style.opacity = 1;
    btn.disabled = true;
    return;
  }

  btn.disabled = true;
  resultado.style.opacity = 0;
  roleta.style.opacity = 1;

  // SOM DO HINO COM TROMPETES (exatamente o do vídeo)
  tocarHinoSPFC();

  // Roleta com muitos nomes
  let html = "";
  const todos = [...deck, ...sorteados];
  for (let i = 0; i < 45; i++) {
    const aleat = todos.sort(() => Math.random()-0.5).slice(0,7);
    html += aleat.join("<br>") + "<br><br>";
  }
  roleta.innerHTML = html;

  roleta.style.animation = "subir 0.06s linear infinite";
  setTimeout(() => roleta.style.animation = "subir 0.38s linear infinite", 2100);

  setTimeout(() => {
    const escolhido = deck.shift();
    sorteados.push(escolhido);

    roleta.style.opacity = 0;
    roleta.style.animation = "none";
    resultado.innerHTML = escolhido.toUpperCase().replace(/ /g, "<br>");
    resultado.style.opacity = 1;
    num.textContent = sorteados.length;

    lista.innerHTML = "";
    sorteados.slice(-10).reverse().forEach(p => {
      const div = document.createElement("div");
      div.className = "item";
      div.textContent = p;
      lista.appendChild(div);
    });

    btn.disabled = false;
  }, 4200);
};
</script>
</body>
</html>