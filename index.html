<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emillin & Filipe • Chá de Panela</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@700&family=Roboto:wght@300;500&display=swap');

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      height: 100vh;
      background: #FFF8E8 url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400" height="400" opacity="0.07"><path fill="%23C19A6B" d="M200,80 Q300,150 280,260 Q200,360 120,260 Q100,150 200,80Z"/></svg>') repeat;
      font-family: 'Roboto', sans-serif;
      color: #5D4037;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }

    /* Cabeçalho do convite */
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    h1 {
      font-family: 'Dancing Script', cursive;
      font-size: 6.5rem;
      color: #8B4513;
      margin: 0;
    }
    h2 {
      font-family: 'Playfair Display', serif;
      font-size: 3.2rem;
      color: #A0522D;
      margin-top: -10px;
    }

    /* Bola gigante */
    #bola {
      width: 80vmin;
      height: 80vmin;
      max-width: 720px;
      max-height: 720px;
      background: white;
      border: 12px solid #D2691E;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      font-family: 'Playfair Display', serif;
      font-size: 3.6rem;
      font-weight: bold;
      color: #8B4513;
      box-shadow: 0 30px 80px rgba(139,69,19,0.3);
      padding: 50px;
      line-height: 1.3;
      transition: all 0.7s cubic-bezier(0.22, 1, 0.36, 1);
    }

    button {
      margin-top: 40px;
      padding: 22px 90px;
      font-size: 2.4rem;
      background: #D2691E;
      color: white;
      border: none;
      border-radius: 60px;
      cursor: pointer;
      box-shadow: 0 12px 30px rgba(210,105,30,0.5);
      transition: 0.3s;
    }
    button:hover { background: #A0522D; transform: translateY(-5px); }
    button:disabled { background: #8B4513; }

    .contador {
      margin-top: 25px;
      font-size: 1.9rem;
      color: #8B4513;
      font-weight: bold;
    }

    .ultimos {
      position: absolute;
      bottom: 40px;
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
      justify-content: center;
      max-width: 90%;
    }
    .item {
      background: #FFF3E0;
      border: 3px solid #DEB887;
      border-radius: 16px;
      padding: 12px 20px;
      min-width: 140px;
      text-align: center;
      font-size: 1.1rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    /* Overlay do hino SPFC */
    #overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.78);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14rem;
      color: #D2691E;
      opacity: 0;
      pointer-events: none;
      z-index: 20;
      transition: opacity 0.5s;
    }
    #overlay.ativo { opacity: 1; }
  </style>
</head>
<body>

  <header>
    <h1>Chá de Panela</h1>
    <h2>Emillin & Filipe</h2>
  </header>

  <div id="bola">Clique para começar o sorteio</div>

  <button id="sortear">SORTEAR PRÓXIMO PRESENTE</button>

  <div class="contador">Sorteados: <span id="num">0</span> / 43</div>

  <div class="ultimos" id="lista"></div>
  <div id="overlay">SPFC Symbol</div>

<script>
  const presentes = [
    "Abridor de garrafas e latas","Açucareiro","Afiador de facas","Assadeiras antiaderentes",
    "Bacia Plástica","Batedor de ovos","Boleira","Bowls","Cabides","Copos de medidas",
    "Copos para água","Cortador de pizza","Cuscuzeira","Descanso de panelas",
    "Escorredor de macarrão","Escorredor de pratos","Espátula","Espremedor de frutas",
    "Espremedor de limão","Faqueiro","Formas de pudim","Fruteira","Galheteiro",
    "Garfinhos para aperitivos","Garrafa de café","Jarra de Suco","Jogo americano",
    "Jogos de xícaras e pires","Kit de colheres","Liquidificador","Leiteira",
    "Panos de prato","Pestiqueira","Pirex","Porta bucha e detergente","Porta copo",
    "Porta guardanapo","Porta hermético","Potes de plásticos","Pratos fundos",
    "Rodo de pia","Rolo de abrir massa","Saladeira","Tábua plástica"
  ];

  let deck = [...presentes].sort(() => Math.random() - 0.5);
  let sorteados = [];

  const bola = document.getElementById("bola");
  const btn = document.getElementById("sortear");
  const num = document.getElementById("num");
  const lista = document.getElementById("lista");
  const overlay = document.getElementById("overlay");

  // Hino do São Paulo com as notas exatas que você passou
  function tocarHinoSPFC() {
    const ctx = new AudioContext();
    const notas = [
      523, 554, 523, 466,   // Dó Lá# Lá Sol
      523, 392, 523, 392,   // Dó Sol Dó Sol
      587, 587, 659, 587, 523, 523,  // Ré Ré Mi Ré Dó Dó
      466, 554, 523, 392, 523       // Lá Lá# Lá Sol Dó (finaliza com Sol)
    ];
    const duracoes = [0.5,0.5,0.5,0.8, 0.5,0.5,0.5,0.8, 0.4,0.4,0.4,0.4,0.4,0.8, 0.5,0.5,0.5,0.5,0.8];

    let t = ctx.currentTime;
    notas.forEach((freq, i) => {
      const osc = ctx.createOscillator();
      const gain = ctx.createGain();
      osc.type = "sine";
      osc.frequency.value = freq;
      gain.gain.setValueAtTime(0.18, t);
      gain.gain.exponentialRampToValueAtTime(0.01, t + duracoes[i]);
      osc.connect(gain).connect(ctx.destination);
      osc.start(t);
      osc.stop(t + duracoes[i]);
      t += duracoes[i];
    });
  }

  btn.onclick = () => {
    if (deck.length === 0) {
      bola.innerHTML = "TODOS OS<br>PRESENTES<br>JÁ FORAM<br>SORTEADOS!<br>♡";
      btn.disabled = true;
      return;
    }

    btn.disabled = true;
    overlay.classList.add("ativo");
    tocarHinoSPFC();

    setTimeout(() => {
      const item = deck.shift();
      sorteados.push(item);

      bola.innerHTML = item.toUpperCase().replace(/ /g, "<br>");
      num.textContent = sorteados.length;
      overlay.classList.remove("ativo");

      // Últimos 10
      lista.innerHTML = "";
      sorteados.slice(-10).reverse().forEach(p => {
        const div = document.createElement("div");
        div.className = "item";
        div.textContent = p;
        lista.appendChild(div);
      });

      btn.disabled = false;
    }, 3800);
  };
</script>
</body>
</html>